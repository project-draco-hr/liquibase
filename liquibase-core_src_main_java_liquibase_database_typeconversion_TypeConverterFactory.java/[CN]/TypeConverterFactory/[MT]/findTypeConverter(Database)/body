{
  SortedSet<TypeConverter> converters=new TreeSet<TypeConverter>(new Comparator<TypeConverter>(){
    public int compare(    TypeConverter o1,    TypeConverter o2){
      return Integer.valueOf(o1.getPriority()).compareTo(o2.getPriority());
    }
  }
);
  for (  TypeConverter converter : allConverters) {
    if (converter.supports(database)) {
      converters.add(converter);
    }
  }
  return converters.last();
}
