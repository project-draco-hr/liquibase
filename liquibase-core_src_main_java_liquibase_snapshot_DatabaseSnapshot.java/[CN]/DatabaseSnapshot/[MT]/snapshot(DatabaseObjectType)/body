{
  DatabaseObjectType returnObj=getExistingObject(example);
  if (returnObj == null) {
    returnObj=SnapshotGeneratorFactory.getInstance().snapshot(example,this.getDatabase());
    if (returnObj == null) {
      return null;
    }
    Set<DatabaseObject> collection=allFound.get(returnObj.getClass());
    if (collection == null) {
      collection=new HashSet<DatabaseObject>();
      allFound.put(returnObj.getClass(),collection);
    }
    collection.add(returnObj);
    return returnObj;
  }
 else {
    return returnObj;
  }
}
