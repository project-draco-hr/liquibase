{
  Table table=example.getTable();
  Schema schema=table.getSchema();
  String name=example.getName();
  String sql=null;
  if (database instanceof MySQLDatabase || database instanceof HsqlDatabase) {
    sql="select const.CONSTRAINT_NAME, COLUMN_NAME " + "from information_schema.table_constraints const " + "join information_schema.key_column_usage col "+ "on const.constraint_schema=col.constraint_schema "+ "and const.table_name=col.table_name "+ "and const.constraint_name=col.constraint_name "+ "where const.constraint_schema='" + database.correctObjectName(schema.getCatalogName(),Catalog.class) + "' "+ "and const.table_name='"+ database.correctObjectName(example.getTable().getName(),Table.class)+ "' "+ "and const.constraint_name='"+ database.correctObjectName(name,UniqueConstraint.class)+ "'"+ "order by ordinal_position";
  }
 else   if (database instanceof MSSQLDatabase) {
    sql="select TC.Constraint_Name as CONSTRAINT_NAME, CC.Column_Name as COLUMN_NAME from information_schema.table_constraints TC " + "inner join information_schema.constraint_column_usage CC on TC.Constraint_Name = CC.Constraint_Name " + "where TC.constraint_schema='" + database.correctObjectName(schema.getCatalogName(),Catalog.class) + "' "+ "and TC.table_name='"+ database.correctObjectName(example.getTable().getName(),Table.class)+ "' "+ "and TC.Constraint_Name='"+ database.correctObjectName(name,UniqueConstraint.class)+ "'"+ "order by TC.Constraint_Name";
  }
 else   if (database instanceof OracleDatabase) {
    sql="select ucc.column_name from all_cons_columns ucc where ucc.constraint_name='" + database.correctObjectName(name,UniqueConstraint.class) + "' and ucc.owner='"+ database.correctObjectName(schema.getCatalogName(),Catalog.class)+ "' order by ucc.position";
  }
 else   if (database instanceof DB2Database) {
    sql="select k.colname as column_name from syscat.keycoluse k, syscat.tabconst t " + "where k.constname = t.constname " + "and t.type='U' "+ "and k.constname='" + database.correctObjectName(name,UniqueConstraint.class) + "' "+ "order by colseq";
  }
 else   if (database instanceof FirebirdDatabase) {
    sql="SELECT RDB$INDEX_SEGMENTS.RDB$FIELD_NAME AS column_name " + "FROM RDB$INDEX_SEGMENTS " + "LEFT JOIN RDB$INDICES ON RDB$INDICES.RDB$INDEX_NAME = RDB$INDEX_SEGMENTS.RDB$INDEX_NAME "+ "WHERE UPPER(RDB$INDICES.RDB$INDEX_NAME)='" + database.correctObjectName(name,UniqueConstraint.class) + "' "+ "ORDER BY RDB$INDEX_SEGMENTS.RDB$FIELD_POSITION";
  }
 else {
    String catalogName=database.correctObjectName(schema.getCatalogName(),Catalog.class);
    String schemaName=database.correctObjectName(schema.getName(),Schema.class);
    String constraintName=database.correctObjectName(name,UniqueConstraint.class);
    String tableName=database.correctObjectName(table.getName(),Table.class);
    sql="select CONSTRAINT_NAME, COLUMN_LIST as COLUMN_NAME " + "from information_schema.constraints " + "where constraint_type='UNIQUE' ";
    if (catalogName != null) {
      sql+="and constraint_catalog='" + catalogName + "' ";
    }
    if (schemaName != null) {
      sql+="and constraint_schema='" + schemaName + "' ";
    }
    if (tableName != null) {
      sql+="and table_name='" + tableName + "' ";
    }
    if (constraintName != null) {
      sql+="and constraint_name='" + constraintName + "'";
    }
  }
  return ExecutorService.getInstance().getExecutor(database).queryForList(new RawSqlStatement(sql));
}
