{
  if (verbose) {
    getLog().info("Loading artfacts into URLClassLoader");
  }
  Set<URL> urls=new HashSet<URL>();
  Set dependencies=project.getDependencyArtifacts();
  if (dependencies != null || !dependencies.isEmpty()) {
    for (Iterator it=dependencies.iterator(); it.hasNext(); ) {
      addArtifact(urls,(Artifact)it.next());
    }
  }
 else {
    getLog().info("there are no resolved artifacts for the Maven project.");
  }
  if (includeArtifact) {
    addArtifact(urls,project.getArtifact());
  }
  if (verbose) {
    getLog().info(LOG_SEPARATOR);
  }
  URL[] urlArray=urls.toArray(new URL[urls.size()]);
  return new URLClassLoader(urlArray,getClass().getClassLoader());
}
