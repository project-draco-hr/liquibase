{
  Main main=new Main();
  main.header("Liquibase SDK");
  try {
    main.init(args);
    if (main.command == null) {
      throw new UserError("No command passed");
    }
    if (main.command.equals("help")) {
      main.printHelp();
      return;
    }
    LiquibaseCommand command;
    CommandLineParser commandParser=new GnuParser();
    if (main.command.equals("vagrant")) {
      command=new VagrantCommand(main);
      try {
        CommandLine commandArguments=commandParser.parse(((VagrantCommand)command).getOptions(),main.commandArgs.toArray(new String[main.commandArgs.size()]));
        ((VagrantCommand)command).setup(commandArguments);
      }
 catch (      ParseException e) {
        throw new UserError("Error parsing command arguments: " + e.getMessage());
      }
    }
 else     if (main.command.equals("watch")) {
      command=new WatchCommand();
    }
 else {
      throw new UserError("Unknown command: " + main.command);
    }
    command.execute();
    main.divider();
    main.out("Command executed successfully");
  }
 catch (  UserError userError) {
    main.out("");
    main.header("ERROR EXECUTING COMMAND");
    main.out(userError.getMessage());
    main.out("");
    main.out("");
    return;
  }
catch (  Throwable exception) {
    System.out.println("Unexpected error: " + exception.getMessage());
    exception.printStackTrace();
  }
}
