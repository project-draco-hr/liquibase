{
  if (sql instanceof CallableSqlStatement) {
    throw new JDBCException("Direct update using CallableSqlStatement not currently implemented");
  }
class UpdateStatementCallback implements StatementCallback {
    public Object doInStatement(    Statement stmt) throws SQLException, JDBCException {
      String[] sqlToExecute=applyVisitors(sql,sqlVisitors);
      if (sqlToExecute.length != 1) {
        throw new JDBCException("Cannot call update on Statement that returns back multiple Sql objects");
      }
      return stmt.executeUpdate(sqlToExecute[0]);
    }
    public SqlStatement getStatement(){
      return sql;
    }
  }
  return (Integer)execute(new UpdateStatementCallback(),sqlVisitors);
}
