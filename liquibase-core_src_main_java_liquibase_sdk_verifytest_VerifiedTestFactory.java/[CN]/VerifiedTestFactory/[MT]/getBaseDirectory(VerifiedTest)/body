{
  String testClassName=test.getTestClass().replace(".","/") + ".class";
  if (!baseDirectoriesByClass.containsKey(testClassName)) {
    URL resource=this.getClass().getClassLoader().getResource(testClassName);
    if (resource == null) {
      return new File(".").getAbsoluteFile();
    }
    File testClass=new File(resource.getFile());
    File classesRoot=new File(testClass.getAbsolutePath().replace(testClassName.replace("/",File.separator),""));
    baseDirectoriesByClass.put(testClassName,new File(classesRoot.getParentFile().getParentFile(),"src/test/resources"));
  }
  return baseDirectoriesByClass.get(testClassName);
}
