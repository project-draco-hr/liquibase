{
  if (!writeExecutors.containsKey(database)) {
    try {
      WriteExecutor writeExecutor=(WriteExecutor)ServiceLocator.getInstance().getClasses(WriteExecutor.class)[0].newInstance();
      writeExecutor.setDatabase(database);
      writeExecutors.put(database,writeExecutor);
    }
 catch (    Exception e) {
      throw new UnexpectedLiquibaseException(e);
    }
  }
  return writeExecutors.get(database);
}
