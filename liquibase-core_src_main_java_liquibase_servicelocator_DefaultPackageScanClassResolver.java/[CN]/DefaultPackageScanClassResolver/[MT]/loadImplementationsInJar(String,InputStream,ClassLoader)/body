{
  JarInputStream jarStream=null;
  if (stream instanceof JarInputStream) {
    jarStream=(JarInputStream)stream;
  }
 else {
    jarStream=new JarInputStream(stream);
  }
  JarEntry entry;
  while ((entry=jarStream.getNextJarEntry()) != null) {
    String name=entry.getName();
    if (name != null) {
      name=name.trim();
      if (!entry.isDirectory() && name.endsWith(".class")) {
        loadClass(name,loader);
      }
    }
  }
}
