{
  String changeLogWithMultipleDbms="--liquibase formatted sql\n\n" + "--changeset John Doe:12345 dbms:db2,db2i\n" + "create table test (id int);\n";
  DatabaseChangeLog changeLog=new MockFormattedSqlChangeLogParser(changeLogWithMultipleDbms).parse("asdf.sql",new ChangeLogParameters(executionContext),new JUnitResourceAccessor(),executionContext);
  assertEquals(2,changeLog.getChangeSets().get(0).getDbmsSet().size());
  assertTrue(changeLog.getChangeSets().get(0).getDbmsSet().contains("db2"));
  assertTrue(changeLog.getChangeSets().get(0).getDbmsSet().contains("db2i"));
  String changeLogWithInvalidMultipleDbms="--liquibase formatted sql\n\n" + "--changeset John Doe:12345 dbms:db2, db2i\n" + "create table test (id int);\n";
  DatabaseChangeLog invalidChangeLog=new MockFormattedSqlChangeLogParser(changeLogWithInvalidMultipleDbms).parse("asdf.sql",new ChangeLogParameters(executionContext),new JUnitResourceAccessor(),executionContext);
  assertEquals(1,invalidChangeLog.getChangeSets().get(0).getDbmsSet().size());
  assertTrue(invalidChangeLog.getChangeSets().get(0).getDbmsSet().contains("db2"));
  assertFalse(invalidChangeLog.getChangeSets().get(0).getDbmsSet().contains("db2i"));
  changeLogWithInvalidMultipleDbms="--liquibase formatted sql\n\n" + "--changeset John Doe:12345 dbms:db2,\n" + "create table test (id int);\n";
  invalidChangeLog=new MockFormattedSqlChangeLogParser(changeLogWithInvalidMultipleDbms).parse("asdf.sql",new ChangeLogParameters(executionContext),new JUnitResourceAccessor(),executionContext);
  assertEquals(1,invalidChangeLog.getChangeSets().get(0).getDbmsSet().size());
  assertTrue(invalidChangeLog.getChangeSets().get(0).getDbmsSet().contains("db2"));
  assertFalse(invalidChangeLog.getChangeSets().get(0).getDbmsSet().contains("db2i"));
  changeLogWithInvalidMultipleDbms="--liquibase formatted sql\n\n" + "--changeset John Doe:12345 dbms:,db2,\n" + "create table test (id int);\n";
  invalidChangeLog=new MockFormattedSqlChangeLogParser(changeLogWithInvalidMultipleDbms).parse("asdf.sql",new ChangeLogParameters(executionContext),new JUnitResourceAccessor(),executionContext);
  assertEquals(null,invalidChangeLog.getChangeSets().get(0).getDbmsSet());
}
