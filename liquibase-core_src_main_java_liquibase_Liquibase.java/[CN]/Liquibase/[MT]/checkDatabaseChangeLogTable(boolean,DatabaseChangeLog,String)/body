{
  contexts=StringUtils.trimToNull(contexts);
  if (updateExistingNullChecksums && databaseChangeLog == null) {
    throw new LiquibaseException("changeLog parameter is required if updating existing checksums");
  }
  String[] splitContexts=null;
  if (StringUtils.trimToNull(contexts) != null) {
    splitContexts=contexts.split(",");
  }
  getDatabase().checkDatabaseChangeLogTable(updateExistingNullChecksums,databaseChangeLog,splitContexts);
  if (!LockServiceImpl.getInstance(database).hasChangeLogLock()) {
    getDatabase().checkDatabaseChangeLogLockTable();
  }
}
