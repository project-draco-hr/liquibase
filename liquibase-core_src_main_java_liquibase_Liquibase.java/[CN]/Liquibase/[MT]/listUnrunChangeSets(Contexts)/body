{
  changeLogParameters.setContexts(contexts);
  DatabaseChangeLog changeLog=ChangeLogParserFactory.getInstance().getParser(changeLogFile,resourceAccessor).parse(changeLogFile,changeLogParameters,resourceAccessor);
  checkDatabaseChangeLogTable(true,changeLog,contexts);
  changeLog.validate(database,contexts);
  ChangeLogIterator logIterator=getStandardChangelogIterator(contexts,changeLog);
  ListVisitor visitor=new ListVisitor();
  logIterator.run(visitor,database);
  return visitor.getSeenChangeSets();
}
