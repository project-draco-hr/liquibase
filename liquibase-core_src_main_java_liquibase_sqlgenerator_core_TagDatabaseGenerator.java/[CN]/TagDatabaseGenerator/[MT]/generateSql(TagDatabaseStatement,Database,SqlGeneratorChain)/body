{
  String tableNameEscaped=database.escapeTableName(database.getLiquibaseCatalogName(),database.getLiquibaseSchemaName(),database.getDatabaseChangeLogTableName());
  String orderColumnNameEscaped=database.escapeObjectName("ORDEREXECUTED",Column.class);
  String tagColumnNameEscaped=database.escapeObjectName("TAG",Column.class);
  String tagEscaped=DataTypeFactory.getInstance().fromObject(statement.getTag(),database).objectToSql(statement.getTag(),database);
  if (database instanceof MySQLDatabase) {
    try {
      if (database.getDatabaseMajorVersion() < 5) {
        return new Sql[]{new UnparsedSql("UPDATE " + tableNameEscaped + " AS C "+ "INNER JOIN ("+ "SELECT MAX("+ orderColumnNameEscaped+ ") AS "+ orderColumnNameEscaped+ " "+ "FROM "+ tableNameEscaped+ ") AS D "+ "ON C."+ orderColumnNameEscaped+ " = D."+ orderColumnNameEscaped+ " "+ "SET C."+ tagColumnNameEscaped+ " = "+ tagEscaped)};
      }
    }
 catch (    DatabaseException e) {
    }
  }
 else   if (database instanceof InformixDatabase) {
    String tempTableNameEscaped=database.escapeObjectName("max_order_temp",Table.class);
    return new Sql[]{new UnparsedSql("SELECT MAX(" + orderColumnNameEscaped + ") AS "+ orderColumnNameEscaped+ " "+ "FROM "+ tableNameEscaped+ " "+ "INTO TEMP "+ tempTableNameEscaped+ " WITH NO LOG"),new UnparsedSql("UPDATE " + tableNameEscaped + " "+ "SET TAG = "+ tagEscaped+ " "+ "WHERE "+ orderColumnNameEscaped+ " = ("+ "SELECT "+ orderColumnNameEscaped+ " "+ "FROM "+ tempTableNameEscaped+ ");"),new UnparsedSql("DROP TABLE " + tempTableNameEscaped + ";")};
  }
  UpdateStatement updateStatement=new UpdateStatement(database.getLiquibaseCatalogName(),database.getLiquibaseSchemaName(),database.getDatabaseChangeLogTableName()).addNewColumnValue("TAG",statement.getTag()).setWhereClause(orderColumnNameEscaped + " = (" + "SELECT MAX("+ orderColumnNameEscaped+ ") "+ "FROM "+ tableNameEscaped+ ")");
  return SqlGeneratorFactory.getInstance().generateSql(updateStatement,database);
}
