{
  SortedSet<DatabaseSnapshotGenerator> generators=new TreeSet<DatabaseSnapshotGenerator>(new Comparator<DatabaseSnapshotGenerator>(){
    public int compare(    DatabaseSnapshotGenerator o1,    DatabaseSnapshotGenerator o2){
      return -1 * Integer.valueOf(o1.getPriority(database)).compareTo(o2.getPriority(database));
    }
  }
);
  for (  DatabaseSnapshotGenerator generator : registry) {
    if (generator.supports(database)) {
      generators.add(generator);
    }
  }
  return generators;
}
