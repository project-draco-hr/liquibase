{
  try {
    DatabaseObject selectedDatabaseObject=getSelectedDatabaseObject();
    Database selectedDatabase=getSelectedDatabase();
    if (action instanceof BaseRefactorAction) {
      IntellijRefactorWizard wizard=new IntellijRefactorWizard(((BaseRefactorAction)action).createRefactorWizard(selectedDatabaseObject),selectedDatabaseObject,selectedDatabase,((BaseRefactorAction)action));
      wizard.pack();
      wizard.show();
    }
 else     if (action instanceof MigratorAction) {
      Migrator migrator=LiquibaseProjectComponent.getInstance().getMigrator(selectedDatabase);
      ((MigratorAction)action).actionPerform(migrator);
    }
  }
 catch (  LiquibaseException e) {
    Messages.showErrorDialog(LiquibaseProjectComponent.getInstance().getProject(),e.getMessage(),"Error Executing Change");
    e.printStackTrace();
  }
}
