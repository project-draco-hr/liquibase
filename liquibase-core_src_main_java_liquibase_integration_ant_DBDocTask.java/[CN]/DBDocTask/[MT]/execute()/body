{
  if (StringUtils.trimToNull(getOutputDirectory()) == null) {
    throw new BuildException("dbDoc requires outputDirectory to be set");
  }
  super.execute();
  Liquibase liquibase=null;
  try {
    liquibase=createLiquibase();
    liquibase.generateDocumentation(getOutputDirectory());
  }
 catch (  Exception e) {
    throw new BuildException(e);
  }
 finally {
    closeDatabase(liquibase);
  }
}
