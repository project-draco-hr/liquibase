{
  InputStream stream=this.sqlStream;
  String sql=this.sql;
  if (sqlStream == null && sql == null) {
    sql="";
  }
  if (sql != null) {
    stream=new ByteArrayInputStream(sql.getBytes());
  }
  CheckSum checkSum=CheckSum.compute(new NormalizingStream(this.getEndDelimiter(),this.isSplitStatements(),this.isStripComments(),stream),false);
  try {
    initializeSql();
  }
 catch (  SetupException e) {
    throw new UnexpectedLiquibaseException("Exception re-initializing sql",e);
  }
  return checkSum;
}
