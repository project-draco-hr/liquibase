{
  new DatabaseTestTemplate().testOnAllDatabases(new DatabaseTest(){
    public void performTest(    Database database) throws Exception {
      java.sql.Date date=new java.sql.Date(new Date().getTime());
      AddDefaultValueChange change=new AddDefaultValueChange();
      change.setTableName("TABLE_NAME");
      change.setColumnName("COLUMN_NAME");
      ISODateFormat dateFormat=new ISODateFormat();
      change.setDefaultValueDate(dateFormat.format(date));
      SqlStatement[] statements=change.generateStatements(new MockDatabase());
      assertEquals(1,statements.length);
      AddDefaultValueStatement statement=(AddDefaultValueStatement)statements[0];
      assertEquals("TABLE_NAME",statement.getTableName());
      assertEquals("COLUMN_NAME",statement.getColumnName());
      assertTrue(statement.getDefaultValue() instanceof java.sql.Date);
      assertEquals(date.toString(),statement.getDefaultValue().toString());
    }
  }
);
}
