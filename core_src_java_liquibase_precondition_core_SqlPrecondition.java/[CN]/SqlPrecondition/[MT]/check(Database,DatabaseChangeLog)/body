{
  DatabaseConnection connection=database.getConnection();
  try {
    String result=(String)ExecutorService.getInstance().getReadExecutor(database).queryForObject(new RawSqlStatement(getSql()),String.class);
    if (result == null) {
      throw new PreconditionFailedException("No rows returned from SQL Precondition",changeLog,this);
    }
    if (!expectedResult.equals(result)) {
      throw new PreconditionFailedException("SQL Precondition failed.  Expected '" + expectedResult + "' got '"+ result+ "'",changeLog,this);
    }
  }
 catch (  DatabaseException e) {
    throw new PreconditionErrorException(e,changeLog,this);
  }
}
