{
switch (type) {
case COUNT:
{
      migrator.rollback(rollbackCount,contexts);
      break;
    }
case DATE:
{
    DateFormat format=DateFormat.getDateInstance();
    try {
      migrator.rollback(format.parse(rollbackDate),contexts);
    }
 catch (    ParseException e) {
      String message="Error parsing rollbackDate: " + e.getMessage();
      if (format instanceof SimpleDateFormat) {
        message+="\nDate must match pattern: " + ((SimpleDateFormat)format).toPattern();
      }
      throw new LiquibaseException(message,e);
    }
    break;
  }
case TAG:
{
  migrator.rollback(rollbackTag,contexts);
  break;
}
default :
{
throw new IllegalStateException("Unexpected rollback type, " + type);
}
}
}
