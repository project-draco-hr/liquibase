{
  Map returnedResults=new HashMap();
  int sqlColIndex=1;
  for (  Object parameter : parameters) {
    if (parameter instanceof SqlOutParameter) {
      SqlOutParameter outParam=(SqlOutParameter)parameter;
      if (outParam.isReturnTypeSupported()) {
        Object out=outParam.getSqlReturnType().getTypeValue(cs,sqlColIndex,outParam.getSqlType(),outParam.getTypeName());
        returnedResults.put(outParam.getName(),out);
      }
 else {
        Object out=cs.getObject(sqlColIndex);
        if (out instanceof ResultSet) {
          if (outParam.isResultSetSupported()) {
            returnedResults.putAll(processResultSet((ResultSet)out,outParam));
          }
 else {
            returnedResults.put(outParam.getName(),"ResultSet was returned but not processed");
          }
        }
 else {
          returnedResults.put(outParam.getName(),out);
        }
      }
    }
    if (!(parameter instanceof SqlReturnResultSet)) {
      sqlColIndex++;
    }
  }
  return returnedResults;
}
