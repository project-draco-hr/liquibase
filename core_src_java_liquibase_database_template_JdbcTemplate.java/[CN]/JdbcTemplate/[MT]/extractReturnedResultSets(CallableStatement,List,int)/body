{
  Map returnedResults=new HashMap();
  int rsIndex=0;
  boolean moreResults;
  do {
    if (updateCount == -1) {
      Object param=null;
      if (parameters != null && parameters.size() > rsIndex) {
        param=parameters.get(rsIndex);
      }
      if (param instanceof SqlReturnResultSet) {
        SqlReturnResultSet rsParam=(SqlReturnResultSet)param;
        returnedResults.putAll(processResultSet(cs.getResultSet(),rsParam));
      }
 else {
      }
      rsIndex++;
    }
    moreResults=cs.getMoreResults();
    updateCount=cs.getUpdateCount();
  }
 while (moreResults || updateCount != -1);
  return returnedResults;
}
