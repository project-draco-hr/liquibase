{
  given_a_database_with_two_executed_changesets();
  ShouldRunChangeSetFilter filter=new ShouldRunChangeSetFilter(database);
  assertThat(filter.accepts(new ChangeSet("1","testAuthor",false,false,"path/changelog",null,null,null))).describedAs("everything same").isFalse();
  assertThat(filter.accepts(new ChangeSet("1","testAuthor",true,false,"path/changelog",null,null,null))).describedAs("alwaysRun").isTrue();
  assertThat(filter.accepts(new ChangeSet("1","testAuthor",false,true,"path/changelog",null,null,null))).describedAs("run on change").isTrue();
  assertThat(filter.accepts(new ChangeSet("3","testAuthor",false,false,"path/changelog",null,null,null))).describedAs("different id").isTrue();
  assertThat(filter.accepts(new ChangeSet("1","otherAuthor",false,false,"path/changelog",null,null,null))).describedAs("different author").isTrue();
  assertThat(filter.accepts(new ChangeSet("1","testAuthor",false,false,"other/changelog",null,null,null))).describedAs("different path").isTrue();
}
