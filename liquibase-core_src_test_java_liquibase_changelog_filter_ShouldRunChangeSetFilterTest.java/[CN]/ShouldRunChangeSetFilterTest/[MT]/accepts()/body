{
  given_a_database_with_two_executed_changesets();
  ShouldRunChangeSetFilter filter=new ShouldRunChangeSetFilter(database);
  assertFalse("Already ran changeset should not be accepted",filter.accepts(new ChangeSet("1","testAuthor",false,false,"path/changelog",null,null,null)).isAccepted());
  assertTrue("AlwaysRun changesets should always be accepted",filter.accepts(new ChangeSet("1","testAuthor",true,false,"path/changelog",null,null,null)).isAccepted());
  assertTrue("RunOnChange changed changeset should be accepted",filter.accepts(new ChangeSet("1","testAuthor",false,true,"path/changelog",null,null,null)).isAccepted());
  assertTrue("ChangeSet with different id should be accepted",filter.accepts(new ChangeSet("3","testAuthor",false,false,"path/changelog",null,null,null)).isAccepted());
  assertTrue("ChangeSet with different author should be accepted",filter.accepts(new ChangeSet("1","otherAuthor",false,false,"path/changelog",null,null,null)).isAccepted());
  assertTrue("ChangSet with different path should be accepted",filter.accepts(new ChangeSet("1","testAuthor",false,false,"other/changelog",null,null,null)).isAccepted());
}
