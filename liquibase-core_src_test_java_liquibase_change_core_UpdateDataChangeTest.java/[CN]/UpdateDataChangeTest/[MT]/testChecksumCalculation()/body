{
  String xml="<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n" + "\n" + "<databaseChangeLog\n"+ "        xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\"\n"+ "        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n"+ "        xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd\">\n"+ "\n"+ "    <changeSet id=\"1\" author=\"a\" logicalFilePath=\"a\">\n"+ "        <update tableName=\"test\">\n"+ "            <column name=\"name\" value=\"changed\"/>\n"+ "            <where>id = 1</where>\n"+ "        </update>\n"+ "    </changeSet>\n"+ "</databaseChangeLog>\n";
  ResourceAccessor resourceAccessor=new CompositeResourceAccessor(getResource(xml),new JUnitResourceAccessor());
  ChangeLogParser parser=ChangeLogParserFactory.getInstance().getParser("xml",resourceAccessor);
  ExecutionContext context=new ExecutionContext();
  DatabaseChangeLog changelog=parser.parse(null,new ChangeLogParameters(context),resourceAccessor,context);
  ChangeSet changeSet=changelog.getChangeSet("a","a","1");
  CheckSum checksum=changeSet.generateCheckSum();
  Assert.assertEquals("7:f5d90faf3e96175decc8395de001a5bb",checksum.toString());
  String changelogString=new StringChangeLogSerializer().serialize(changeSet.getChanges().get(0),false);
  Assert.assertTrue(changelogString.contains("where="));
}
