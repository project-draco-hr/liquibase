{
  if (database == null) {
    return;
  }
  Liquibase liquibase=createLiquibase(encodingChangeLog);
  StringWriter writer=new StringWriter();
  liquibase.update(this.contexts,writer);
  assertTrue("Update to SQL preserves encoding",new RegexMatcher(writer.toString(),new String[]{"^.*INSERT.*VALUES.*??????????????????????????????.*$","???","^.*INSERT.*VALUES.*??????????????????????????????.*$","???"}).allMatchedInSequentialOrder());
}
