{
  DatabaseChangeLog changeLog=new XMLChangeLogSAXParser().parse("liquibase/parser/xml/preconditionsChangeLog.xml",new HashMap<String,Object>(),new JUnitFileOpener());
  assertEquals("liquibase/parser/xml/preconditionsChangeLog.xml",changeLog.getLogicalFilePath());
  assertEquals("liquibase/parser/xml/preconditionsChangeLog.xml",changeLog.getPhysicalFilePath());
  assertNotNull(changeLog.getPreconditions());
  assertEquals(2,changeLog.getPreconditions().getNestedPreconditions().size());
  assertEquals("runningAs",changeLog.getPreconditions().getNestedPreconditions().get(0).getTagName());
  assertEquals("or",changeLog.getPreconditions().getNestedPreconditions().get(1).getTagName());
  assertEquals("dbms",((OrPrecondition)changeLog.getPreconditions().getNestedPreconditions().get(1)).getNestedPreconditions().get(0).getTagName());
  assertEquals("dbms",((OrPrecondition)changeLog.getPreconditions().getNestedPreconditions().get(1)).getNestedPreconditions().get(1).getTagName());
  assertEquals(1,changeLog.getChangeSets().size());
}
