{
  String[] strings=classpath.list();
  List<URL> taskClassPath=new ArrayList<URL>();
  for (int i=0; i < strings.length; i++) {
    URL url=new File(strings[i]).toURL();
    taskClassPath.add(url);
  }
  Driver driver=(Driver)Class.forName(getDriver(),true,new URLClassLoader(taskClassPath.toArray(new URL[taskClassPath.size()]))).newInstance();
  Properties info=new Properties();
  info.put("user",getUsername());
  info.put("password",getPassword());
  Connection connection=driver.connect(getUrl(),info);
  Migrator migrator=new Migrator(getChangeLogFile().trim(),new AntFileOpener(getProject(),classpath));
  migrator.init(connection);
  return migrator;
}
