{
  Migrator migrator=changeSet.getDatabaseChangeLog().getMigrator();
  String dateValue=migrator.getDatabase().getCurrentDateTimeFunction();
  String sql="INSERT INTO DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, MD5SUM, DESCRIPTION, COMMENTS, LIQUIBASE) VALUES ('?', '?', '?', " + dateValue + ", '?', '?', '?', '?')";
  sql=sql.replaceFirst("\\?",changeSet.getId().replaceAll("'","''"));
  sql=sql.replaceFirst("\\?",changeSet.getAuthor().replaceAll("'","''"));
  sql=sql.replaceFirst("\\?",changeSet.getDatabaseChangeLog().getFilePath().replaceAll("'","''"));
  sql=sql.replaceFirst("\\?",changeSet.getMd5sum().replaceAll("'","''"));
  sql=sql.replaceFirst("\\?",limitSize(changeSet.getDescription().replaceAll("'","''")));
  sql=sql.replaceFirst("\\?",limitSize(StringUtils.trimToEmpty(changeSet.getComments()).replaceAll("'","''")));
  sql=sql.replaceFirst("\\?",changeSet.getDatabaseChangeLog().getMigrator().getBuildVersion().replaceAll("'","''"));
  Writer sqlOutputWriter=migrator.getOutputSQLWriter();
  if (sqlOutputWriter == null) {
    Connection connection=migrator.getDatabase().getConnection();
    Statement statement=connection.createStatement();
    statement.executeUpdate(sql);
    statement.close();
    connection.commit();
  }
 else {
    sqlOutputWriter.write(sql + ";\n\n");
  }
  migrator.getRanChangeSetList().add(new RanChangeSet(changeSet));
}
