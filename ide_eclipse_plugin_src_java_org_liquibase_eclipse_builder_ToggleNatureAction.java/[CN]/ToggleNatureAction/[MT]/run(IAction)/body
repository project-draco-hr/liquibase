{
  if (selection instanceof IStructuredSelection) {
    for (Iterator it=((IStructuredSelection)selection).iterator(); it.hasNext(); ) {
      Object element=it.next();
      IProject project=null;
      if (element instanceof IProject) {
        project=(IProject)element;
      }
 else       if (element instanceof IAdaptable) {
        project=(IProject)((IAdaptable)element).getAdapter(IProject.class);
      }
      if (project != null) {
        toggleNature(project);
      }
    }
  }
}
