{
  JComponent[] validationComponents=page.getValidationComponents();
  if (validationComponents != null) {
    for (    JComponent component : validationComponents) {
      if (component == null) {
        System.out.println("Cannot add validation to null component");
      }
 else       if (component instanceof JTextComponent) {
        ((JTextComponent)component).getDocument().addDocumentListener(new DocumentListener(){
          public void insertUpdate(          DocumentEvent e){
            validateWizardPages();
          }
          public void removeUpdate(          DocumentEvent e){
            validateWizardPages();
          }
          public void changedUpdate(          DocumentEvent e){
            validateWizardPages();
          }
        }
);
      }
 else       if (component instanceof JButton) {
        ((JButton)component).addActionListener(new ActionListener(){
          public void actionPerformed(          ActionEvent e){
            validateWizardPages();
          }
        }
);
      }
 else {
        throw new RuntimeException("Unknown component type to watch for validation: " + component.getClass().getName());
      }
    }
  }
}
