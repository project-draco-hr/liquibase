{
  DiffControl diffControl=new DiffControl();
  diffControl.addStatusListener(new OutDiffStatusListener());
  DatabaseSnapshot referenceSnapshot=SnapshotGeneratorFactory.getInstance().createSnapshot(referenceDatabase.getDefaultSchema(),referenceDatabase,new SnapshotControl());
  DatabaseSnapshot targetSnapshot=SnapshotGeneratorFactory.getInstance().createSnapshot(targetDatabase.getDefaultSchema(),targetDatabase,new SnapshotControl());
  DiffResult diffResult=DiffGeneratorFactory.getInstance().compare(referenceSnapshot,targetSnapshot,diffControl);
  System.out.println("");
  System.out.println("Diff Results:");
  new DiffToPrintStream(diffResult,System.out).print();
}
