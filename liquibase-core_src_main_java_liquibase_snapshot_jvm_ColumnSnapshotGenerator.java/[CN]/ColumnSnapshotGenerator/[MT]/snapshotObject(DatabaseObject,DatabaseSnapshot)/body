{
  Database database=snapshot.getDatabase();
  Relation relation=((Column)example).getRelation();
  if (((Column)example).getComputed() != null && ((Column)example).getComputed()) {
    return example;
  }
  Schema schema=relation.getSchema();
  List<CachedRow> columnMetadataRs=null;
  try {
    Column column=null;
    if (example.getAttribute(LIQUIBASE_COMPLETE,false)) {
      column=(Column)example;
      example.setAttribute(LIQUIBASE_COMPLETE,null);
    }
 else {
      JdbcDatabaseSnapshot.CachingDatabaseMetaData databaseMetaData=((JdbcDatabaseSnapshot)snapshot).getMetaData();
      columnMetadataRs=databaseMetaData.getColumns(((AbstractJdbcDatabase)database).getJdbcCatalogName(schema),((AbstractJdbcDatabase)database).getJdbcSchemaName(schema),relation.getName(),example.getName());
      if (columnMetadataRs.size() > 0) {
        CachedRow data=columnMetadataRs.get(0);
        column=readColumn(data,relation,database);
      }
    }
    if (column != null && database instanceof MSSQLDatabase) {
      List<String> remarks=ExecutorService.getInstance().getExecutor(snapshot.getDatabase()).queryForList(new RawSqlStatement("SELECT\n" + " CAST(value as varchar(max)) as REMARKS\n" + " FROM\n"+ " sys.extended_properties\n"+ "  WHERE\n"+ " name='MS_Description' "+ " AND major_id = OBJECT_ID('" + column.getRelation().getName() + "')\n"+ " AND\n"+ " minor_id = COLUMNPROPERTY(major_id, '"+ column.getName()+ "', 'ColumnId')"),String.class);
      if (remarks != null && remarks.size() > 0) {
        column.setRemarks(StringUtils.trimToNull(remarks.iterator().next()));
      }
    }
    return column;
  }
 catch (  Exception e) {
    throw new DatabaseException(e);
  }
}
