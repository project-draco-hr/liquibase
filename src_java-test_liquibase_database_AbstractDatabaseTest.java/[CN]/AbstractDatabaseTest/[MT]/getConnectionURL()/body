{
  Connection connection=createMock(Connection.class);
  DatabaseMetaData metaData=createMock(DatabaseMetaData.class);
  expect(connection.getMetaData()).andReturn(metaData);
  expect(metaData.getURL()).andReturn("URLHere");
  replay(connection);
  replay(metaData);
  Database database=getDatabase();
  database.setConnection(connection);
  assertEquals("URLHere",database.getConnectionURL());
}
