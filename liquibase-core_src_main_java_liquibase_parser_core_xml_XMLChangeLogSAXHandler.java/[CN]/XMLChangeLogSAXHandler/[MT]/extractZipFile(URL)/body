{
  String file=resource.getFile();
  String path=file.split("!")[0];
  if (path.matches("file:\\/[A-Za-z]:\\/.*")) {
    path=path.replaceFirst("file:\\/","");
  }
 else {
    path=path.replaceFirst("file:","");
  }
  path=URLDecoder.decode(path);
  File zipfile=new File(path);
  File tempDir=File.createTempFile("liquibase-sax",".dir");
  tempDir.delete();
  tempDir.mkdir();
  JarFile jarFile=new JarFile(zipfile);
  Enumeration<JarEntry> entries=jarFile.entries();
  while (entries.hasMoreElements()) {
    JarEntry entry=entries.nextElement();
    File entryFile=new File(tempDir,entry.getName());
    entryFile.mkdirs();
  }
  return tempDir;
}
