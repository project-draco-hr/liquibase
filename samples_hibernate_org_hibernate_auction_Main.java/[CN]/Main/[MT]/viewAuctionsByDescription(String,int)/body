{
  String msg="Viewing auctions containing: " + description;
  if (condition > 0)   msg+=" with condition: " + condition + "/10";
  AuctionItem item=new AuctionItem();
  item.setDescription(description);
  item.setCondition(condition);
  Session s=factory.openSession();
  Transaction tx=null;
  try {
    tx=s.beginTransaction();
    Iterator iter=s.createCriteria(AuctionItem.class).add(Example.create(item).enableLike(MatchMode.ANYWHERE).ignoreCase().excludeZeroes()).list().iterator();
    System.out.println(msg);
    while (iter.hasNext()) {
      item=(AuctionItem)iter.next();
      System.out.println("Item: " + item.getId() + " - "+ item.getDescription());
    }
    System.out.println();
    tx.commit();
  }
 catch (  Exception e) {
    if (tx != null)     tx.rollback();
    throw e;
  }
 finally {
    s.close();
  }
}
