{
  for (  Map.Entry<View,ObjectDifferences> viewChange : diffResult.getObjectDiff(View.class).getChanged().entrySet()) {
    View view=viewChange.getKey();
    CreateViewChange change=new CreateViewChange();
    change.setViewName(view.getName());
    if (diffOutputConfig.isIncludeCatalog()) {
      change.setCatalogName(view.getSchema().getCatalog().getName());
    }
    if (diffOutputConfig.isIncludeSchema()) {
      change.setSchemaName(view.getSchema().getName());
    }
    String selectQuery=view.getDefinition();
    if (selectQuery == null) {
      selectQuery="COULD NOT DETERMINE VIEW QUERY";
    }
    change.setSelectQuery(selectQuery);
    change.setReplaceIfExists(true);
    changes.add(generateChangeSet(change));
  }
}
