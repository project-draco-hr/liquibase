{
  fileWriter.append("<code><pre>");
  ChangeSet lastRunChangeSet=null;
  for (  Change change : changesToRun) {
    ChangeSet thisChangeSet=change.getChangeSet();
    if (thisChangeSet.equals(lastRunChangeSet)) {
      continue;
    }
    lastRunChangeSet=thisChangeSet;
    String anchor=thisChangeSet.toString(false).replaceAll("\\W","_");
    fileWriter.append("<a name='").append(anchor).append("'/>");
    migrator.setOutputSQLWriter(fileWriter);
    migrator.setMode(Migrator.Mode.OUTPUT_SQL_MODE);
    try {
      thisChangeSet.execute();
    }
 catch (    MigrationFailedException e) {
      fileWriter.append("EXECUTION ERROR: ").append(change.getChangeName()).append(": ").append(e.getMessage()).append("\n\n");
    }
  }
  fileWriter.append("</pre></code>");
}
