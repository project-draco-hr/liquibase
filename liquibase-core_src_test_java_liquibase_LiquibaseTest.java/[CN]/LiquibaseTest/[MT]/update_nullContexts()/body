{
  Liquibase liquibase=new Liquibase("com/example/test.xml",mockResourceAccessor,mockDatabase){
    @Override protected ChangeLogIterator getStandardChangelogIterator(    Contexts contexts,    DatabaseChangeLog changeLog) throws DatabaseException {
      return mockChangeLogIterator;
    }
  }
;
  liquibase.update((Contexts)null);
  verify(mockLockService).waitForLock();
  verify(mockDatabase).checkDatabaseChangeLogTable(true,mockChangeLog,(Contexts)null);
  verify(mockDatabase).checkDatabaseChangeLogLockTable();
  verify(mockChangeLog).validate(mockDatabase,(Contexts)null);
  verify(mockChangeLogParser).parse("com/example/test.xml",liquibase.getChangeLogParameters(),mockResourceAccessor);
  verify(mockChangeLogIterator).run(any(UpdateVisitor.class),eq(mockDatabase));
  verify(mockLockService).releaseLock();
  verify(mockDatabase).setObjectQuotingStrategy(ObjectQuotingStrategy.LEGACY);
  assertNull(liquibase.getChangeLogParameters().getContexts());
}
