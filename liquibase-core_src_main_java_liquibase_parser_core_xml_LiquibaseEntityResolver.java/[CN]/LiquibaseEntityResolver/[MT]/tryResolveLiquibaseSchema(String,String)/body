{
  if (systemId != null) {
    NamespaceDetails namespaceDetails;
    if (serializer != null) {
      namespaceDetails=NamespaceDetailsFactory.getInstance().getNamespaceDetails(serializer,systemId);
    }
 else {
      namespaceDetails=NamespaceDetailsFactory.getInstance().getNamespaceDetails(parser,systemId);
    }
    if (namespaceDetails == null) {
      return null;
    }
    String xsdFile=namespaceDetails.getLocalPath(systemId);
    try {
      InputStream resourceAsStream=null;
      if (Thread.currentThread().getContextClassLoader() != null) {
        resourceAsStream=Thread.currentThread().getContextClassLoader().getResourceAsStream(xsdFile);
      }
      if (resourceAsStream == null) {
        resourceAsStream=this.getClass().getClassLoader().getResourceAsStream(xsdFile);
      }
      if (resourceAsStream == null) {
        return null;
      }
      InputSource source=new InputSource(resourceAsStream);
      source.setPublicId(publicId);
      source.setSystemId(systemId);
      return source;
    }
 catch (    Exception ex) {
      return null;
    }
  }
  return null;
}
