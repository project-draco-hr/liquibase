{
  Executor oldTemplate=ExecutorService.getExecutor(database);
  ExecutorService.setExecutor(database,new LoggingExecutor(output,database));
  outputHeader("Rollback to " + dateToRollBackTo + " Script");
  rollback(dateToRollBackTo,contexts);
  try {
    output.flush();
  }
 catch (  IOException e) {
    throw new LiquibaseException(e);
  }
  ExecutorService.setExecutor(database,oldTemplate);
}
