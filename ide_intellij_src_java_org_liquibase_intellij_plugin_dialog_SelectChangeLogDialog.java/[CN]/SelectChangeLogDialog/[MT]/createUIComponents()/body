{
  final LiquibaseProjectComponent liquibaseProjectComponent=LiquibaseProjectComponent.getInstance();
  Project project=liquibaseProjectComponent.getProject();
  changeLogSelect=new TextFieldWithBrowseButton();
  final FileChooserDescriptor fileChooser=FileChooserDescriptorFactory.createSingleLocalFileDescriptor();
  String currentChangeLogFile=liquibaseProjectComponent.getOutputChangeLogFile();
  if (currentChangeLogFile != null) {
    changeLogSelect.setText(currentChangeLogFile);
  }
  changeLogSelect.setTextFieldPreferredWidth(100);
  changeLogSelect.addBrowseFolderListener("Select Change Log File",null,project,fileChooser);
  changeLogSelect.getTextField().getDocument().addDocumentListener(new DocumentListener(){
    public void insertUpdate(    DocumentEvent e){
      updatePreference();
    }
    public void removeUpdate(    DocumentEvent e){
      updatePreference();
    }
    public void changedUpdate(    DocumentEvent e){
      updatePreference();
    }
    private void updatePreference(){
      liquibaseProjectComponent.setOutputChangeLogFile(changeLogSelect.getTextField().getText());
    }
  }
);
}
