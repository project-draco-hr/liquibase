{
  boolean seenCommand=false;
  for (int i=0; i < args.length; i++) {
    String arg=args[i];
    if (isCommand(arg)) {
      this.command=arg;
      seenCommand=true;
    }
 else     if (seenCommand) {
      commandParams.add(arg);
    }
 else     if (arg.startsWith("--")) {
      String[] splitArg=splitArg(arg);
      String attributeName=splitArg[0];
      String value=splitArg[1];
      try {
        Field field=getClass().getDeclaredField(attributeName);
        if (field.getType().equals(Boolean.class)) {
          field.set(this,Boolean.valueOf(value));
        }
 else {
          field.set(this,value);
        }
      }
 catch (      Exception e) {
        throw new CommandLineParsingException("Unknown parameter: '" + attributeName + "'");
      }
    }
 else {
      throw new CommandLineParsingException("Parameters must start with a '--'");
    }
  }
}
