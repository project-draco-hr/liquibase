{
  DatabaseSnapshot referenceSnapshot=SnapshotGeneratorFactory.getInstance().createSnapshot(referenceDatabase.getDefaultSchema(),referenceDatabase,new SnapshotControl());
  DatabaseSnapshot comparisonSnapshot=SnapshotGeneratorFactory.getInstance().createSnapshot(comparisonDatabase.getDefaultSchema(),comparisonDatabase,new SnapshotControl());
  return getGenerator(referenceDatabase,comparisonDatabase).compare(referenceSnapshot,comparisonSnapshot,diffControl);
}
