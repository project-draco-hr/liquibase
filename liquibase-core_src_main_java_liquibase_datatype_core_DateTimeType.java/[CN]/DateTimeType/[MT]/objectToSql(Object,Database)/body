{
  if (value == null || value.toString().equalsIgnoreCase("null")) {
    return null;
  }
 else   if (value instanceof String && isCurrentDateTimeFunction(value.toString(),database)) {
    return database.getCurrentDateTimeFunction();
  }
 else   if (value instanceof DatabaseFunction) {
    if (isCurrentDateTimeFunction(value.toString(),database)) {
      return database.getCurrentDateTimeFunction();
    }
 else {
      return ((DatabaseFunction)value).getValue();
    }
  }
 else   if (database.isFunction(value.toString())) {
    return value.toString();
  }
 else   if (value instanceof String) {
    return "'" + ((String)value).replaceAll("'","''") + "'";
  }
  return database.getDateTimeLiteral(((java.sql.Timestamp)value));
}
