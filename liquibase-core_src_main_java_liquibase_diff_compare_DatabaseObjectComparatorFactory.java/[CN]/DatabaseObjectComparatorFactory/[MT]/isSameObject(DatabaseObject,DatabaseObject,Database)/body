{
  if (object1 == null && object2 == null) {
    return true;
  }
  if (object1 == null || object2 == null) {
    return false;
  }
  if (object1.getSnapshotId() != null && object2.getSnapshotId() != null) {
    if (object1.getSnapshotId().equals(object2.getSnapshotId())) {
      return true;
    }
  }
  if (!hash(object1,accordingTo).equals(hash(object2,accordingTo))) {
    return false;
  }
  return createComparatorChain(object1.getClass(),accordingTo).isSameObject(object1,object2,accordingTo);
}
