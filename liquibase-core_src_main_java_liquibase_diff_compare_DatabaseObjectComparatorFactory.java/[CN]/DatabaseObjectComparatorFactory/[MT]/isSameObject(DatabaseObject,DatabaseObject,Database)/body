{
  if (object1 == null && object2 == null) {
    return true;
  }
  if (object1 == null || object2 == null) {
    return false;
  }
  UUID snapshotId1=object1.getSnapshotId();
  UUID snapshotId2=object2.getSnapshotId();
  if (snapshotId1 != null && snapshotId2 != null) {
    if (snapshotId1.equals(snapshotId2)) {
      return true;
    }
  }
  if (!hash(object1,accordingTo).equals(hash(object2,accordingTo))) {
    return false;
  }
  return createComparatorChain(object1.getClass(),accordingTo).isSameObject(object1,object2,accordingTo);
}
