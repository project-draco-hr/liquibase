{
  Yaml yaml=new Yaml();
  try {
    InputStream changeLogStream=StreamUtil.singleInputStream(physicalChangeLogLocation,resourceAccessor);
    if (changeLogStream == null) {
      throw new ChangeLogParseException(physicalChangeLogLocation + " does not exist");
    }
    Map parsedYaml;
    try {
      parsedYaml=yaml.loadAs(changeLogStream,Map.class);
    }
 catch (    Exception e) {
      throw new ChangeLogParseException("Syntax error in " + getSupportedFileExtension() + ": "+ e.getMessage(),e);
    }
    DatabaseChangeLog changeLog=new DatabaseChangeLog(physicalChangeLogLocation);
    changeLog.setChangeLogParameters(changeLogParameters);
    List rootList=(List)parsedYaml.get("databaseChangeLog");
    if (rootList == null) {
      throw new ChangeLogParseException("Could not find databaseChangeLog node");
    }
    ParsedNode databaseChangeLogNode=new ParsedNode(null,"databaseChangeLog");
    databaseChangeLogNode.setValue(rootList);
    changeLog.load(databaseChangeLogNode,resourceAccessor);
    return changeLog;
  }
 catch (  Throwable e) {
    if (e instanceof ChangeLogParseException) {
      throw (ChangeLogParseException)e;
    }
    throw new ChangeLogParseException(e);
  }
}
