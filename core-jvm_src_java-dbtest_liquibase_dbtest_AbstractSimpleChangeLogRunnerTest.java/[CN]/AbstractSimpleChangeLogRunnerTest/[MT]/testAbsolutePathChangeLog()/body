{
  if (database == null) {
    return;
  }
  Enumeration<URL> urls=new JUnitResourceAccessor().getResources(includedChangeLog);
  URL completeChangeLogURL=urls.nextElement();
  String absolutePathOfChangeLog=completeChangeLogURL.toExternalForm();
  absolutePathOfChangeLog=absolutePathOfChangeLog.replaceFirst("file:\\/","");
  if (System.getProperty("os.name").startsWith("Windows ")) {
    absolutePathOfChangeLog=absolutePathOfChangeLog.replace('/','\\');
  }
 else {
    absolutePathOfChangeLog="/" + absolutePathOfChangeLog;
  }
  Liquibase liquibase=createLiquibase(absolutePathOfChangeLog,new FileSystemResourceAccessor());
  clearDatabase(liquibase);
  liquibase.update(this.contexts);
  liquibase.update(this.contexts);
  clearDatabase(liquibase);
}
