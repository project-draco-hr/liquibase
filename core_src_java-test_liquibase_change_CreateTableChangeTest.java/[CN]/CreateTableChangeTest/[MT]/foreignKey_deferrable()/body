{
  CreateTableChange change=new CreateTableChange();
  ColumnConfig columnConfig=new ColumnConfig();
  columnConfig.setName("id");
  ConstraintsConfig constraints=new ConstraintsConfig();
  constraints.setReferences("test(id)");
  constraints.setDeferrable(true);
  constraints.setInitiallyDeferred(true);
  columnConfig.setConstraints(constraints);
  change.addColumn(columnConfig);
  CreateTableStatement statement=(CreateTableStatement)change.generateStatements(new MockDatabase())[0];
  ForeignKeyConstraint keyConstraint=statement.getForeignKeyConstraints().iterator().next();
  assertTrue(keyConstraint.isDeferrable());
  assertTrue(keyConstraint.isInitiallyDeferred());
}
